<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <script src="scriptAgendamento.js"></script>
    <h:head>
    </h:head>
    <h:body>
        <div>
            
            <h:form id="formulario" >
                <p:panel id="painel" header="Agendar Consulta">
                    <h:panelGrid  columns="3" ><h:outputLabel for="nomePesquisa" value="Pesquisar: " /><p:inputText id="nomePesquisa" value="#{gerenciaPaciente.pacienteBusca}" />
                        <p:commandButton value="Pesquisar" actionListener="#{gerenciaPaciente.buscaPaciente}" update="formulario"/></h:panelGrid>
                    <p:dataTable  id="listaPaciente" var="paciente" value="#{gerenciaPaciente.pacienteDataModel}" paginator="true" rows="10" selection="#{gerenciaAgendamento.paciente}" selectionMode="single">
                        <p:ajax event="rowSelect"  update=":formulario" />
                        <f:facet name="header">
                            Selecione o Paciente desejado.
                        </f:facet>
                        <p:column headerText="Nome">
                            #{paciente.nome}
                        </p:column>
                        <p:column headerText="CPF">
                            #{paciente.cpf}
                        </p:column>
                        <p:column headerText="RG">
                            #{paciente.rg}
                        </p:column>
                        <p:column headerText="Telefone">
                            #{paciente.telefone}
                        </p:column>
                        <p:column headerText="Celular">
                            #{paciente.celular}
                        </p:column>
                    </p:dataTable>
                    <p:panel header="Dados do Paciente Selecionado" id="painelDados">
                        Nome: <h:outputText      value="#{gerenciaAgendamento.paciente.nome}"    /><br />
                        Cpf: <h:outputText       value="#{gerenciaAgendamento.paciente.cpf}"     /><br />
                        Rg: <h:outputText        value="#{gerenciaAgendamento.paciente.rg}"      /><br />
                        Telefone: <h:outputText  value="#{gerenciaAgendamento.paciente.telefone}"/><br />
                        Celular: <h:outputText   value="#{gerenciaAgendamento.paciente.celular}" /><br />
                    </p:panel>
                </p:panel>
            </h:form>
        </div>

        <div>
            <h:form id="formularioAcademico" >
                <h:panelGrid  columns="3" ><h:outputLabel for="nomePesquisa" value="Pesquisar: " /><p:inputText id="nomePesquisa" value="#{gerenciaAcademico.academicoPesquisa}" />
                    <p:commandButton value="Pesquisar" actionListener="#{gerenciaAcademico.buscaAcademico()}" update="formularioAcademico"/></h:panelGrid>
                <p:dataTable  id="listaPaciente" var="academico" value="#{gerenciaAcademico.academicoDataModel}" paginator="true" rows="10" selection="#{gerenciaAgendamento.academico}" selectionMode="single">
                    <p:ajax event="rowSelect"  update=":formularioAcademico" />
                    <f:facet name="header">
                        Selecione o Paciente desejado.
                    </f:facet>
                    <p:column headerText="Nome">
                        #{academico.nome}
                    </p:column>
                    <p:column headerText="Telefone">
                        #{academico.telefone}
                    </p:column>
                </p:dataTable>
                <p:panel  header="Dados do Acadêmico Selecionado" id="painelDados">
                    Nome: <h:outputText      value="#{gerenciaAgendamento.academico.nome}"       /><br />
                    Telefone: <h:outputText       value="#{gerenciaAgendamento.academico.telefone}"     /><br />
                </p:panel>
            </h:form>
        </div>

        <div>
            <h:form id="formularioSala" >
                <h:panelGrid  columns="3" ><h:outputLabel for="nomeSala" value="Pesquisar: " /><p:inputText id="nomeSala" value="#{gerenciaSala.salaPesquisa}" />
                    <p:commandButton value="Pesquisar" actionListener="#{gerenciaSala.buscaSala()}" update="formularioSala"/></h:panelGrid>
                <p:dataTable  id="listaPaciente" var="sala" value="#{gerenciaSala.salaDataModel}" paginator="true" rows="10" selection="#{gerenciaAgendamento.sala}" selectionMode="single">
                    <p:ajax event="rowSelect"  update=":formularioSala" />
                    <f:facet name="header">
                        Selecione a Sala desejado.
                    </f:facet>
                    <p:column headerText="Numero">
                        #{sala.numeroSala}
                    </p:column>
                </p:dataTable>
                <p:panel  header="Dados do Acadêmico Selecionado" id="painelDados">
                    Numero: <h:outputText      value="#{gerenciaAgendamento.sala.numeroSala}"       /><br />
                </p:panel>
            </h:form>
        </div>
        <div>
            <h:form id="informacoesAdicionais" >
                <p:growl id="mensagem" showDetail="true" life="5000" />
                <p:panel header="Informações Adicionais">
                 <!--   <h:outputLabel for="dataAgendamento" value="Data do Agendamento: " /><p:calendar id="dataAgendamento" value="#{gerenciaAgendamento.dataAgendamento}" /> <br />-->
                    <h:outputLabel for="tipoAtendimento" value="Tipo Atendimento: " /><p:inputText id="tipoAtendimento" value="#{gerenciaAgendamento.tipoAtendimento}" /><br />
                    <p:commandButton value="Agendar Consulta" actionListener="#{gerenciaAgendamento.agendarConsulta()}" update="mensagem"/>
                </p:panel>
            </h:form>
        </div>

    </h:body>
</html>

