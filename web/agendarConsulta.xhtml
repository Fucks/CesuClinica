<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <script src="scriptAgendamento.js"></script>
    <h:head>
    </h:head>
    <h:body>
        <div>
            <h:form id="formulario" >
                <p:panel id="painel" header="Agendar Consulta">
                    <h:panelGrid rendered="#{gerenciaAgendamento.MOSTRA_BUSCA_PACIENTE}" columns="1" ><h:outputLabel for="nomePesquisa" value="Pesquisar: " /><p:inputText id="nomePesquisa" value="#{gerenciaPaciente.pacienteBusca}" /></h:panelGrid>

                    <p:commandButton value="Pesquisar" actionListener="#{gerenciaPaciente.buscaPaciente}" update="formulario"/>
                    <p:dataTable rendered="#{gerenciaAgendamento.MOSTRA_DATA_PACIENTE}" id="listaPaciente" var="paciente" value="#{gerenciaPaciente.pacienteDataModel}" paginator="true" rows="10" selection="#{gerenciaAgendamento.paciente}" selectionMode="single">
                        <p:ajax event="rowSelect" listener="#{gerenciaAgendamento.selecionaPaciente}" update=":formulario" />
                        <f:facet name="header">
                            Selecione o Paciente desejado.
                        </f:facet>
                        <p:column headerText="Nome">
                            #{paciente.nome}
                        </p:column>
                        <p:column headerText="CPF">
                            #{paciente.cpf}
                        </p:column>
                        <p:column headerText="RG">
                            #{paciente.rg}
                        </p:column>
                        <p:column headerText="Telefone">
                            #{paciente.telefone}
                        </p:column>
                        <p:column headerText="Celular">
                            #{paciente.celular}
                        </p:column>
                    </p:dataTable>
                    <p:panel rendered="#{gerenciaAgendamento.MOSTRA_PACIENTE_SELECIONADO}" header="Dados do UsuÃ¡rio Selecionado" id="painelDados">
                        Nome:<h:outputText      value="#{gerenciaAgendamento.paciente.nome}"    /><br />
                        Cpf:<h:outputText       value="#{gerenciaAgendamento.paciente.cpf}"     /><br />
                        Rg:<h:outputText        value="#{gerenciaAgendamento.paciente.rg}"      /><br />
                        Telefone:<h:outputText  value="#{gerenciaAgendamento.paciente.telefone}"/><br />
                        Celular:<h:outputText   value="#{gerenciaAgendamento.paciente.celular}" /><br />
                    </p:panel>
                </p:panel>
            </h:form>
        </div>
    </h:body>
</html>

